// Project tasks configuration. See https://zed.dev/docs/tasks for documentation.
//
[
  {
    "label": "app-service run",
    "command": "cargo watch -q -c -w src/ -w assets/ -w templates/ -x run",
    "cwd": "$ZED_WORKTREE_ROOT/app-service"
  },
  {
    "label": "auth-service run",
    "command": "cargo watch -q -c -w src/ -w assets/ -x run",
    "cwd": "$ZED_WORKTREE_ROOT/auth-service"
  },
  {
    "label": "clippy fix",
    "command": "cargo clippy --fix --allow-dirty"
  },
  {
    "label": "compose build",
    "command": "docker compose build",
    "cwd": "$ZED_WORKTREE_ROOT"
  },
  {
    "label": "compose up",
    "command": "docker compose up",
    "cwd": "$ZED_WORKTREE_ROOT"
  },
  {
    "label": "cargo nextest $ZED_CUSTOM_RUST_TEST_NAME",
    "command": "cargo nextest run $ZED_CUSTOM_RUST_TEST_NAME",
    "tags": ["rust-test", "rust-mod-test"]
  },
  {
    "label": "cargo nextest $ZED_STEM (package: $ZED_CUSTOM_RUST_PACKAGE)",
    "command": "cargo nextest run -p $ZED_CUSTOM_RUST_PACKAGE $ZED_SYMBOL",
    "tags": ["rust-mod-test"]
  }
]
